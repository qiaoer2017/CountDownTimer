<!DOCTYPE html>
<html>
<head> 
    <meta charset="utf-8">
    <title>Canvas倒计时</title> 
    <style>
        #canvas {
            display: block;
            margin: 0 auto;
        }

    </style>
</head>
<body>
<canvas id="canvas"></canvas>

<script src="digit.js"></script>
<script>
    (function () {
        var WINDOW_WIDTH = 1024;
        var WINDOW_HEIGHT = 768;
        var RADIUS = 8;
        var MARGIN_TOP = 60;
        var MARGIN_LEFT = 30;

        var canvas = document.getElementById("canvas");
        canvas.width = WINDOW_WIDTH;
        canvas.height = WINDOW_HEIGHT;
        var context = canvas.getContext("2d");

        render(context);

        function render(context) {
            var hours = 12;
            var minutes = 34;
            var seconds = 56;

            renderDigit(MARGIN_LEFT, MARGIN_TOP, parseInt(hours / 10), context);
            renderDigit(MARGIN_LEFT + 15 * (RADIUS + 1), MARGIN_TOP, parseInt(hours % 10), context);
            renderDigit(MARGIN_LEFT + 30 * (RADIUS + 1), MARGIN_TOP, 10, context);
            renderDigit(MARGIN_LEFT + 39 * (RADIUS + 1), MARGIN_TOP, parseInt(minutes / 10), context);
            renderDigit(MARGIN_LEFT + 54 * (RADIUS + 1), MARGIN_TOP, parseInt(minutes % 10), context);
            renderDigit(MARGIN_LEFT + 69 * (RADIUS + 1), MARGIN_TOP, 10, context);
            renderDigit(MARGIN_LEFT + 78 * (RADIUS + 1), MARGIN_TOP, parseInt(seconds / 10), context);
            renderDigit(MARGIN_LEFT + 93 * (RADIUS + 1), MARGIN_TOP, parseInt(seconds % 10), context);

        }

        function renderDigit(x, y, num, context) {
            context.fillStyle = "rgb(0,102,153)";

            for (var i = 0; i < digit[num].length; i++) {
                for (var j = 0; j < digit[num][i].length; j++) {
                    if (digit[num][i][j] == 1) {
                        context.beginPath();
                        context.arc(x + j * 2 * (RADIUS + 1) + RADIUS + 1, y + i * 2 * (RADIUS + 1) + RADIUS + 1, RADIUS, 0, 2 * Math.PI);
                        context.closePath();
                        context.fill();
                    }
                }
            }

        }
    })();
</script>
</body>
</html>